{% extends 'base.html.twig' %}

{% block title %}Modification du profil {% endblock %}

{% block body %}
    {{ include('user/_form_edit.html.twig') }}

{% endblock %}

{% block javascripts %}
    <script>
        function afficherApercuImage() {
            const inputImage = document.getElementById('user_edit_photoPath');
            const apercuImage = document.getElementById('apercuImage');
            const divApercu = document.getElementById('divApercu');

            if (inputImage.files && inputImage.files[0]) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    divApercu.classList.remove('hidden');
                    apercuImage.src = e.target.result;
                    apercuImage.style.display = 'block';
                };

                reader.readAsDataURL(inputImage.files[0]);
            }else {
            // Si l'input est vide, effacez l'image précédemment chargée
                divApercu.classList.add('hidden');
            apercuImage.src = '';
            apercuImage.style.display = 'none';
        }
        }
    </script>
{% endblock %}
